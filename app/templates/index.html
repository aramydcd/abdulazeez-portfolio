{% extends "base.html" %}
{% block content %}

<header class="hero-section bg-white py-5">
    <div class="container py-5">
        <div class="row align-items-center">
            <div class="col-lg-7">
                <div class="d-inline-flex align-items-center badge bg-soft-primary text-primary mb-3 px-3 py-2 rounded-pill ">
                    <span class="position-relative d-flex h-3 w-3 me-2">
                        <span class="d-flex align-items-center justify-content-center" style="width: 12px; height: 12px;">
                            <span class="status-dot pulse"></span>
                        </span>
                    </span>
                    <span class="fw-bold">{{ current_user.status or 'Open to Internships & Junior Roles' }}</span>
                </div>

                <h6 class="text-primary fw-bold text-uppercase tracking-widest mb-2">Software Engineer</h6>
                
                <h1 class="display-3 fw-extrabold mb-4">
                    Architecting <span class="text-gradient">Backend Systems</span> & Digital Experiences.
                </h1>
                
                <p class="lead text-secondary mb-5 fs-5 pe-lg-5" style="line-height: 1.8;">
                    I am <span class="text-dark fw-bold">Abdulazeez Abdulakeem</span>. A Computer Science graduate specialized in building 
                    high-performance server-side logic and scalable full-stack applications.<br>
                    I transform complex business requirements into clean, maintainable, and efficient code.<br>
                    My goal is to build software that makes a difference.
                </p>

                <div class="d-flex gap-3 flex-wrap">
                    <a href="{{ url_for('main.projects') }}" class="btn btn-primary btn-lg px-4 py-3 fw-bold shadow">
                        Explore My Work <i class="bi bi-arrow-right ms-2"></i>
                    </a>

                    <a href="{{ url_for('main.contact') }}" class="btn btn-outline-dark d-inline-flex btn-lg px-4 py-3">
                        <span class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 32px; height: 32px;">
                        <i class="bi bi-send-fill text-white small"></i></span>
                        <span class="text-primary small fw-medium">Let's Talk</span>
                    </a>
                </div>
            </div>

            <div class="col-lg-5">
                <div class="profile-card-wrapper">
                    <div class="blob-shape"></div>
                    <img src="{{ url_for('static', filename='img/' + (current_user.profile_pic or 'profile.jpg')) }}" 
                         class="img-fluid profile-img-pro shadow-2xl" alt="Developer Abdulazeez Image">
                </div>
            </div>

        </div>
    </div>
</header>



<section class="py-5 bg-light border-top border-bottom">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h6 class="text-uppercase text-primary fw-bold tracking-widest">Expertise</h6>
                <h2 class="fw-bold">My Technical Toolbox</h2>
                <p class="text-muted">The technologies I use to bring ideas to life.</p>
                <div class="bg-primary mx-auto mt-2" style="height: 3px; width: 60px;"></div>
            </div>
        </div>
        <div class="row g-4 text-center">
            {% for skill in skills %}
            <div class="col-md-4">
                <div class="p-4 bg-white rounded-4 shadow-sm h-100 skill-card">
                    <div class="feature-icon mb-3 text-primary">
                        <i class="bi {{ skill.icon_class }} fs-1"></i>
                    </div>
                    <h4 class="fw-bold">{{ skill.category }}</h4>
                    <p class="text-muted small">{{ skill.description }}</p>
                    <div class="d-flex flex-wrap justify-content-center gap-2 mt-3">
                        {% for tool in skill.tools.split(',') %}
                            <span class="badge bg-soft-primary text-primary border">{{ tool.strip() }}</span>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>



<section id="projects" class="py-5 bg-white">
    <div class="container py-5">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h6 class="text-uppercase text-primary fw-bold tracking-widest">Portfolio</h6>
                <h2 class="fw-bold">Featured Projects</h2>
                <p class="text-muted">A sneak peek at my latest work and technical experiments.</p>
                <div class="bg-primary mx-auto mt-2" style="height: 3px; width: 60px;"></div>
            </div>
        </div>

        <div class="row g-4">
            {% for project in projects[:3] %} 
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm project-card overflow-hidden">
                    <div class="position-relative overflow-hidden" style="height: 220px;">
                        <img src="{{ url_for('static', filename='img/' + project.image_file) }}" 
                             class="card-img-top h-100 w-100" 
                             style="object-fit: cover;" 
                             alt="{{ project.title }}">
                        <div class="project-overlay d-flex align-items-center justify-content-center">
                            <a href="{{ url_for('main.project_detail', project_id=project.id) }}" class="btn btn-light btn-sm px-4 fw-bold shadow-sm">Explore Project</a>
                        </div>
                    </div>

                    <div class="card-body">
                        <h5 class="fw-bold mb-2">
                            <a href="{{ url_for('main.project_detail', project_id=project.id) }}" class="text-decoration-none text-dark">
                                {{ project.title }}
                            </a>
                        </h5>
                        <div class="mb-3">
                            {% for tech in project.technologies.split(',') %}
                                <a href="{{ url_for('main.projects', category=tech.strip()) }}" 
                                class="badge bg-light text-primary border text-decoration-none hover-shadow small">
                                {{ tech.strip() }}
                                </a>
                            {% endfor %}
                            <hr>
                        </div>
                        <p class="card-text text-secondary small">
                            {{ project.description[:110] }}...
                        </p>
                    </div>

                    <div class="card-footer bg-white border-0 p-4 pt-0 d-flex justify-content-between align-items-center">
                        <a href="{{ url_for('main.project_detail', project_id=project.id) }}" class="text-primary text-decoration-none fw-bold small">
                            View Case Study <i class="bi bi-arrow-right"></i>
                        </a>
                        <div class="d-flex gap-3">
                            <a href="{{ project.github_url }}" target="_blank" class="text-dark hover-primary" title="GitHub Source"><i class="bi bi-github"></i></a>
                            {% if project.live_demo_url %}
                                <a href="{{ project.live_demo_url }}" target="_blank" class="text-primary hover-dark" title="Live Demo"><i class="bi bi-link-45deg fs-5"></i></a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section id="experience" class="py-5 bg-light">
    <div class="container py-5">
        <div class="row align-items-center mb-5">
            <div class="col-md-12 text-center">
                <h6 class="text-uppercase text-primary fw-bold tracking-widest">Career Path</h6>
                <h2 class="fw-bold display-6">Work Experience</h2>
                <div class="bg-primary mx-auto mt-2" style="height: 3px; width: 60px;"></div>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-9">
                {% for exp in experiences %}
                <div class="experience-card p-4 mb-4 rounded-4 shadow-sm border-start border-primary border-4 bg-white">
                    <div class="d-flex justify-content-between align-items-start flex-wrap">
                        <div>
                            <h4 class="fw-bold mb-1 text-dark">{{ exp.job_title }}</h4>
                            <h5 class="text-primary fw-semibold mb-3">{{ exp.company }}</h5>
                        </div>
                        <span class="badge bg-dark rounded-pill px-3 py-2 mb-3">{{ exp.duration }}</span>
                    </div>
                    <div class="mb-3">
                        {% for tech in exp.technologies.split(',') %}
                            <a href="{{ url_for('main.projects', category=tech.strip()) }}" 
                            class="badge bg-light text-primary border text-decoration-none hover-shadow small">
                            {{ tech.strip() }}
                            </a>
                        {% endfor %}
                        <hr>
                    </div>
                    
                    <div class="text-secondary small mb-3" style="line-height: 1.6;">
                        {{ exp.description[:180] }}{% if exp.description|length > 180 %}...{% endif %}
                    </div>

                    <button type="button" class="btn btn-sm btn-outline-primary rounded-pill px-3" 
                            data-bs-toggle="modal" data-bs-target="#expModal{{ exp.id }}">
                        View Full Details
                    </button>
                </div>

                <div class="modal fade" id="expModal{{ exp.id }}" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content border-0 shadow-lg rounded-4">
                            <div class="modal-header border-0 pb-0">
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body p-4 pt-0">
                                <h6 class="text-primary fw-bold text-uppercase small mb-1">{{ exp.duration }}</h6>
                                <h3 class="fw-bold text-dark mb-1">{{ exp.job_title }}</h3>
                                <h5 class="text-secondary mb-4">{{ exp.company }}</h5>

                                <div class="mb-3">
                                    {% for tech in exp.technologies.split(',') %}
                                        <a href="{{ url_for('main.projects', category=tech.strip()) }}" 
                                        class="badge bg-light text-primary border text-decoration-none hover-shadow small">
                                        {{ tech.strip() }}
                                        </a>
                                    {% endfor %}
                                    <hr>
                                </div>
                                
                                <div class="bg-light p-3 rounded-3">
                                    <h6 class="fw-bold small text-uppercase text-muted mb-3">Key Achievements</h6>
                                    <div style="white-space: pre-line; line-height: 1.7; color: #444;">
                                        {{ exp.description }}
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer border-0 pt-0">
                                <button type="button" class="btn btn-secondary rounded-pill px-4" data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>


<section id="interests" class="py-5 bg-white">
    <div class="container py-4">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h6 class="text-uppercase text-primary fw-bold tracking-widest small">Next Steps</h6>
                <h2 class="fw-bold display-6">Target Roles & Interests</h2>
                <div class="bg-primary mx-auto mt-2" style="height: 3px; width: 60px;"></div>
            </div>
        </div>

        <div class="row g-4 justify-content-center">
            {% for role in target_roles %}
            <div class="col-md-6 col-lg-4">
                <div class="card h-100 border rounded-4 shadow-sm p-4 text-center role-card transition-all hover-lift bg-white">
                    <div class="icon-box mb-3 mx-auto rounded-circle d-flex align-items-center justify-content-center" 
                         style="width: 60px; height: 60px; background-color: #e7f0ff;">
                        <i class="bi {{ role.icon_class }} text-primary fs-3"></i>
                    </div>
                    
                    <h5 class="fw-bold text-dark mb-2">{{ role.title }}</h5>
                    <p class="small text-secondary mb-4" style="line-height: 1.6;">{{ role.description }}</p>
                    
                    <div class="mt-auto">
                        {% if role.cv_filename %}
                        <a href="{{ url_for('static', filename='docs/' + role.cv_filename) }}" 
                           class="btn btn-sm btn-outline-primary rounded-pill px-3 py-2 fw-bold w-100">
                            <i class="bi bi-file-earmark-pdf me-1"></i> Specialist CV
                        </a>
                        {% else %}
                        <span class="text-muted small italic">General CV applies</span>
                        {% endif %}
                    </div>
                    
                    {% if current_user.is_authenticated %}
                    <div class="mt-3 pt-3 border-top d-flex justify-content-center gap-2">
                        <a href="{{ url_for('main.edit_role', role_id=role.id) }}" class="btn btn-xs btn-light text-secondary border">
                            <i class="bi bi-pencil"></i>
                        </a>
                        <form action="{{ url_for('main.delete_role', role_id=role.id) }}" method="POST" class="d-inline">
                            <button type="submit" class="btn btn-xs btn-light text-danger border" onclick="return confirm('Delete this role?')">
                                <i class="bi bi-trash"></i>
                            </button>
                        </form>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="py-5 bg-dark text-white rounded-4 mx-2 mx-md-5 mb-5 shadow-lg">
    <div class="container text-center py-4">
        <h2 class="display-5 fw-bold mb-3">Let's build something epic.</h2>
        <p class="opacity-75 mb-4">I'm ready for my next challenge. Are you?</p>
        <a href="{{ url_for('main.contact') }}" class="btn btn-primary btn-lg px-5 py-3 rounded-pill fw-bold">Get In Touch</a>
    </div>
</section>
{% endblock %}